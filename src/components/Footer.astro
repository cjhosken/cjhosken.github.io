---
import { Icon } from "astro-icon/components";
---

<footer>
  <div class="container">
    <!-- Links -->
    <div id="footer-links">
      <p class="header">Links</p>
      <div class="list">
        <a href="/">Home</a>
        <a href="/projects">Projects</a>
        <a href="/contact">Contact</a>
      </div>
    </div>

    <!-- Socials -->
    <div id="footer-socials">
      <p class="header">Socials</p>
      <div class="list">
        <a
          href="https://www.linkedin.com/in/christopher-hosken/"
          target="_blank"
          aria-label="LinkedIn"
          class="icon"
        >
          <Icon name="mdi:linkedin" size="24" />
        </a>
        <a
          href="https://github.com/cjhosken"
          target="_blank"
          aria-label="GitHub"
          class="icon"
        >
          <Icon name="mdi:github" size="24" />
        </a>
        <a
          href="https://www.youtube.com/@cjhosken"
          target="_blank"
          aria-label="YouTube"
          class="icon"
        >
          <Icon name="mdi:youtube" size="24" />
        </a>
      </div>
    </div>

    <!-- Contact -->
    <div id="footer-contact">
      <p class="header">Contact</p>
      <ul class="list">
        <li>
          <a id="email-link" href="mailto:hoskenchristopher@gmail.com"
            >hoskenchristopher@gmail.com</a
          >
        </li>
        <li>
          <a id="phone-link" href="tel:+447393979912">(+44)7393979912</a>
        </li>
        <li>
          <a
            id="cv-link"
            href="/ChristopherHosken_CurriculumVitae_2025.pdf"
            target="_blank">Download CV</a
          >
        </li>
      </ul>
    </div>
  </div>

  <p id="copyright">
    &copy; {new Date().getFullYear()} Christopher Hosken
  </p>
</footer>

<style is:global>

  footer ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  footer {
    display: flex;
    flex-direction: column;
    width: 100vw;
    background-color: var(--dark-color);
    padding: 1rem 0;
    box-shadow: 0px 0px 25px rgba(0, 0, 0, 0.2);
  }

  footer .container {
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: space-around;
    padding: 1rem 0;
  }

  footer .container > div {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    justify-content: start;
    width: 15rem;
  }

  footer .container > div > div {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  footer .container #footer-socials > div {
    flex-direction: row;
    gap: 1em;
  }

  footer .container > div a {
    padding: 0.1em;
  }

  footer .container .header {
    color: var(--primary-color);
    font-size: 1.25rem;
    text-align: center;
    margin: 1rem auto;
  }

  #copyright {
    margin: 0 auto;
    text-align: center;
  }
</style>

<!-- Client-side responsive text logic -->
<script>
  const emailLink = document.getElementById("email-link");
  const phoneLink = document.getElementById("phone-link");
  const cvLink = document.getElementById("cv-link");

  function updateFooterText() {
    const isSmall = window.innerWidth <= 875;

    emailLink!.textContent = isSmall ? "Email" : "hoskenchristopher@gmail.com";
    phoneLink!.textContent = isSmall ? "Phone" : "(+44)7393979912";
    cvLink!.textContent = isSmall ? "CV" : "Download CV";
  }

  updateFooterText();
  window.addEventListener("resize", updateFooterText);
</script>
